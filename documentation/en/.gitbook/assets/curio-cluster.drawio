<mxfile host="app.diagrams.net" modified="2024-03-27T14:10:31.092Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:123.0) Gecko/20100101 Firefox/123.0" etag="cyPs6MjGk2YzVecL5jys" version="24.2.0" type="google" pages="4">
  <diagram name="Strona-1" id="Tr9g8Si8d620d4WiGS6E">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="uCUMHbnbCTemmPt3Qczi-46" value="&lt;div&gt;Scratch&lt;/div&gt;&lt;div&gt;Space&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="580" y="350" width="60" height="70" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-44" value="&lt;div&gt;Scratch&lt;/div&gt;&lt;div&gt;Space&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="220" y="350" width="60" height="70" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-32" value="Redundant chain nodes" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="350" y="100" width="124" height="80" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-1" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Curio Nodes&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-3" value="Lotus Chain" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="260" y="70" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-5" value="Lotus Chain" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="270" y="80" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-6" value="Lotus Chain" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="280" y="90" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-9" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="175" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-10" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="185" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-11" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="195" y="260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-12" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="205" y="270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-13" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="215" y="280" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-19" value="Sealing nodes" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="170" y="330" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-20" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="295" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-21" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="305" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-22" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="315" y="260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-25" value="PoSt nodes" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="295" y="330" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-26" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="415" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-27" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="425" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-28" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="435" y="260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-29" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="445" y="270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-30" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="455" y="280" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-31" value="&lt;div&gt;Storage&lt;/div&gt;&lt;div&gt;nodes&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="445" y="315" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-36" value="YugabyteDB&lt;br&gt;&lt;div&gt;(Postgres+HA)&lt;/div&gt;&lt;div&gt;Orchestrating&lt;/div&gt;&lt;div&gt;the cluster&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="50" y="210" width="90" height="110" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-38" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="285" y="650" as="sourcePoint" />
            <mxPoint x="285" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-40" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="407" y="650" as="sourcePoint" />
            <mxPoint x="406.5" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="uCUMHbnbCTemmPt3Qczi-42" target="uCUMHbnbCTemmPt3Qczi-45">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="310" />
              <mxPoint x="570" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-42" value="Curio" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="540" y="285" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-43" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="630" as="sourcePoint" />
            <mxPoint x="520" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-45" value="Piece storage" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="530" y="330" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-48" value="Boost" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="540" y="200" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-52" value="Boost" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="550" y="210" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="uCUMHbnbCTemmPt3Qczi-54" target="uCUMHbnbCTemmPt3Qczi-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-54" value="Boost" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="560" y="220" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-57" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;Multiple&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;Actors on one Cluster&lt;br style=&quot;font-size: 10px;&quot;&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="590" y="240" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-58" value="Sealing nodes make independent scheduling decisions. Each node looks for available work in the database, and collaboratively decides what to do next.&lt;br&gt;Sectors in the process of being sealed simply list which algorithms need to be executed on them, which means that work isn&#39;t bound by a sequential pipeline.For example data can start mowing to long-term storage while the commit message is landing on-chain" style="text;html=1;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="430" width="120" height="140" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-59" value="&lt;div&gt;PoSt nodes schedule PoSt tasks collaboratively. First each node watches the chain and proposes taks to execute, then the Harmony task engine ensures that tasks are executed by at least one node in the cluster. This means that with just two nodes an SP with no overlapping partitions can get highly available window and winning PoSt.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This configuration also enables SPs to compute multiple partitions in parallel enabling very large actors as well as making it possible to share one set of PoSt nodes between multiple actors&lt;br&gt; &lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="380" width="115" height="140" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-60" value="Storage nodes are like any other node in the curio cluster - just a curio node, but with only the light storage related tasks enabled." style="text;html=1;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="405" y="380" width="115" height="140" as="geometry" />
        </mxCell>
        <mxCell id="uCUMHbnbCTemmPt3Qczi-61" value="&lt;div&gt;Curio supports boost without modifications. Curio nodes can be configured to expose a subset of lotus-miner RPC. One node can expose multiple endpoints for multiple miner actors, making it easy to configure a cluster with multiple actors/boost nodes.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In the future boost will be integrated as a component of curio, meaning that only a single binary needs to be managed, and making market operations scalable&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="522.5" y="430" width="115" height="140" as="geometry" />
        </mxCell>
        <mxCell id="pQ0IkKOmqQIsSmUgU4DO-1" value="&lt;font style=&quot;font-size: 9px;&quot;&gt;Each Curio node can talk to a set of Chain nodes, so that in case one goes down or is slow, another one can be selected&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="260" y="150" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pQ0IkKOmqQIsSmUgU4DO-2" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;YugabyteDB, which is already used in boost, is used by Curio as an easy to manage highly available central place for all cluster state. It technically doesn&#39;t hold any critical data without which sectors wouldn&#39;t be provable, but all cluster operations are coordinated through it&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="400" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pQ0IkKOmqQIsSmUgU4DO-3" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="620" as="sourcePoint" />
            <mxPoint x="700" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="WhimpXIwQ3v0k1WHfet7" name="Strona-2">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="xu6kZlUL9wDcMCbd5zJD-1" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Curio Cluster&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="30" y="160" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-1" value="&lt;div&gt;Long&lt;/div&gt;&lt;div&gt;Term Storage&lt;br&gt;&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="270" y="584.5" width="90" height="65" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-5" value="Chain" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="355" width="110" height="67" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="st0Ed5sikWB2nDtZWLyY-7" target="st0Ed5sikWB2nDtZWLyY-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-7" value="&lt;div&gt;PoRep&lt;/div&gt;&lt;div&gt;Pipeline&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="270" y="230" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="st0Ed5sikWB2nDtZWLyY-8" target="st0Ed5sikWB2nDtZWLyY-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-8" value="&lt;div&gt;Snap&lt;/div&gt;&lt;div&gt;Pipeline&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="270" y="280" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="st0Ed5sikWB2nDtZWLyY-9" target="st0Ed5sikWB2nDtZWLyY-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-9" value="&lt;div&gt;Unseal&lt;/div&gt;&lt;div&gt;Pipeline&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="270" y="330" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-10" value="&lt;div&gt;Compute&lt;/div&gt;&lt;div&gt;Nodes&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="410" y="300" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="st0Ed5sikWB2nDtZWLyY-11" target="st0Ed5sikWB2nDtZWLyY-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-11" value="&lt;div&gt;SaaS /&lt;br&gt;&lt;/div&gt;&lt;div&gt;DePin?&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="270" y="380" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-16" value="&lt;div&gt;PoSt&lt;/div&gt;&lt;div&gt;Proving&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="270" y="430" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;startFill=1;" edge="1" parent="1" source="st0Ed5sikWB2nDtZWLyY-17" target="st0Ed5sikWB2nDtZWLyY-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-17" value="&lt;div&gt;Proving&lt;/div&gt;&lt;div&gt;Nodes&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="410" y="425" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-19" value="Chain communication happens with a set of nodes which should make it very robust" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="110" y="335" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="st0Ed5sikWB2nDtZWLyY-20" value="Long-term storage is accessible for reading from any place in the cluster " style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="530" y="602" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-2" value="Compute workers execute tasks from pipelines. Tasks are created when pipelines are ready for them to be executed, then they get claimed by available nodes. All nodes help maintain pipelines relevant to them" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="400" y="230" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-4" value="Proving workers make sure that proving tasks get executed correctly and on time" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="520" y="435" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-5" value="Creating new sectors" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="235" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-6" value="Onboarding new data" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="285" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-7" value="Reading archives" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="335" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-8" value="&lt;div&gt;Alternative&lt;/div&gt;&lt;div&gt;Revenue&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="385" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-9" value="&lt;div&gt;Reliable&lt;/div&gt;&lt;div&gt;Proving&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="435" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="AFPwOY_DDRvVrzBXaiLZ-10" target="AFPwOY_DDRvVrzBXaiLZ-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-10" value="&lt;div&gt;Deal&lt;/div&gt;&lt;div&gt;Client&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="270" y="480" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="AFPwOY_DDRvVrzBXaiLZ-11" target="AFPwOY_DDRvVrzBXaiLZ-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-11" value="&lt;div&gt;Retrieval&lt;/div&gt;&lt;div&gt;Server&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="270" y="530" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-12" value="&lt;div&gt;Network&lt;/div&gt;&lt;div&gt;Nodes&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="410" y="500" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-15" value="Network nodes communicate with the internet (or offline data transfer devices) getting data in and out of the cluster. " style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="520" y="510" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;startFill=1;" edge="1" parent="1" source="AFPwOY_DDRvVrzBXaiLZ-16" target="st0Ed5sikWB2nDtZWLyY-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-16" value="&lt;div&gt;Storage&lt;/div&gt;&lt;div&gt;Nodes&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="410" y="592" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-18" value="&lt;div&gt;Data&lt;/div&gt;&lt;div&gt;Ingest&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="485" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-19" value="&lt;div&gt;Providing&lt;/div&gt;&lt;div&gt;Retrieval&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="530" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-20" value="&lt;div align=&quot;left&quot;&gt;Exists&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="40" y="512" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-21" value="Soon" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="40" y="542" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-22" value="Planned" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="40" y="572" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AFPwOY_DDRvVrzBXaiLZ-23" value="Research" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="602" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="V8QkG2pRNZyS1jShMDPV" name="Strona-3">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="IToj2VZt3nN6CltXyNZm-27" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="230" y="130" width="550" height="200" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-1" value="Curio Task" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-3" value="Yugabyte" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e1d5e7;strokeColor=#9673a6;dashed=1;dashPattern=12 12;" vertex="1" parent="1">
          <mxGeometry x="210" y="100" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IToj2VZt3nN6CltXyNZm-4" target="IToj2VZt3nN6CltXyNZm-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-4" value="harmory_machines" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="320" y="150" width="140" height="90" as="geometry">
            <mxRectangle x="50" y="210" width="140" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-5" value="machine_id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-4">
          <mxGeometry y="30" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-6" value="host_and_port" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-4">
          <mxGeometry y="50" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-7" value="last_contact" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-4">
          <mxGeometry y="70" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IToj2VZt3nN6CltXyNZm-9" target="IToj2VZt3nN6CltXyNZm-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-9" value="harmory_task" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="470" y="150" width="140" height="90" as="geometry">
            <mxRectangle x="50" y="210" width="140" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-10" value="task_id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-9">
          <mxGeometry y="30" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-11" value="name" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-9">
          <mxGeometry y="50" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-12" value="owned_by" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-9">
          <mxGeometry y="70" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IToj2VZt3nN6CltXyNZm-13" target="IToj2VZt3nN6CltXyNZm-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-13" value="sectors_sdr_pipeline" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="620" y="150" width="140" height="170" as="geometry">
            <mxRectangle x="50" y="210" width="140" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-14" value="sector_id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="30" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-15" value="task_id_sdr" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="50" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-16" value="&lt;div&gt;after_sdr&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="70" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-23" value="&lt;div&gt;..&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="90" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-24" value="task_id_tree_r" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="110" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-25" value="after_tree_r" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="130" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-26" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="IToj2VZt3nN6CltXyNZm-13">
          <mxGeometry y="150" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-28" value="&lt;div&gt;Curio clusters are coordinated by one shared postgres database. By default it is recommended to use YugabyteDB.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The database contains a set of tables which are used to orchestract actions between cluster nodes.&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="120" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-29" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;Each Curio node is primarily identified by it&#39;s host:port.&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;br style=&quot;font-size: 9px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;Nodes register themselves in the harmony_machines table on startup, and update their last_contact periodically so that other machines in the cluster can see that they are alive and that their tasks don&#39;t need to be re-claimed by another node&lt;br style=&quot;font-size: 9px;&quot;&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fillColor=#ffe6cc;strokeColor=#d79b00;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="360" width="120" height="140" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-31" value="&lt;div style=&quot;font-size: 9px;&quot;&gt;Task execution is coordinated through the harmony_task table.&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;br style=&quot;font-size: 9px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;Tasks are initially added to this table by nodes which are interested in them getting executed. Nodes which add tasks are not guaranteed to be the ones executing them.&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;br style=&quot;font-size: 9px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;Tasks initially have null owned_by - when curio nodes see tasks with a null owned_by and are capable of handling tasks with the given name and have available resources will try to claim the task by setting this field to their machine_id. Postgres will only allow one node to successfully set themselves as the owner, and that node will start executing the task&lt;br style=&quot;font-size: 9px;&quot;&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fillColor=#ffe6cc;strokeColor=#d79b00;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="477" y="360" width="126" height="270" as="geometry" />
        </mxCell>
        <mxCell id="IToj2VZt3nN6CltXyNZm-33" value="sdr_pipeline is one of the ways in which tasks are coordinated. Each sealing node is responsible for its part of the pipeline - for example nodes which are executing TreeR will look for sectors that are after_sdr, but not after_tree_r and have null tree_r task ID - when they find a sector like that those nodes will start a transaction which creates a task for e.g. computing trees and will assign the task ID to the task_id_tree_r in case of the Trees task" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fillColor=#ffe6cc;strokeColor=#d79b00;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="627.5" y="360" width="125" height="190" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="QyCwuJW-HYGqoXMuLRiO" name="Strona-4">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="TBIGsvIdGa_IPObnmpnM-1" value="Curio Task Execution" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-2" value="SDR Node" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="110" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-3" value="GPU Node" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="110" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-4" value="Example: Few steps in the sealing pipeline" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="290" y="45" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-5" value="We start with an example cluster with two machines. Those machines will register themselves in the harmony_machine table on startup" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="350" y="120" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-7" value="The SDR node has a sha-capable CPU and a bunch of memory. It will claim &quot;SDR&quot; tasks." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="40" y="170" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-9" value="The example GPU node has a GPU and is configured to execute the &quot;SDRTrees&quot; tasks" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="210" y="170" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-11" value="Sector 1 is Created" style="triangle;whiteSpace=wrap;html=1;fontSize=8;align=left;" vertex="1" parent="1">
          <mxGeometry x="70" y="260" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-14" value="Some process (e.g boost proxy handling a deal) creates an entry in the sectors_sdr_pipeline. That entry only contains a sector number and miner actor id plus a set of pieces assigned to the sector" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="50" y="390" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TBIGsvIdGa_IPObnmpnM-12" value="&lt;div&gt;SDR task&lt;/div&gt;&lt;div&gt;is created&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="150" y="260" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-1" value="The SDR node sees that there is a sector entry in the pipeline table which is ready for SDR to be started. In a transaction it will create a task in the harmony_task table and assign the task_id of the task to the task_id_sdr field of the sector in the pipeline table" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="160" y="410" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-3" value="&lt;div&gt;SDR task&lt;/div&gt;&lt;div&gt;is claimed&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="270" y="260" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-4" value="The SDR node (which may be a different node) sees that there is a SDR task in the harmony_task table with null owner_id, so it tries to set itself as the owner. If that is successful this node will now start executing the task" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="270" y="390" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-5" value="&lt;div&gt;SDR task&lt;/div&gt;&lt;div&gt;execution starts&lt;br&gt;&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="390" y="260" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-6" value="The node which has just set itself as the owner now starts executing the task. It looks for sector which sector it is operating on by checking what rows in sectors_sdr_pipeline have task_id_sdr set to the task_id which it is currently executing" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="390" y="400" width="95" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-7" value="&lt;div&gt;SDR task&lt;/div&gt;&lt;div&gt;execution&lt;/div&gt;&lt;div&gt;finishes&lt;br&gt;&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="510" y="260" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-8" value="When task execution finishes, the task code will set after_sdr in sectors_sdr_pipeline to true, which will indicate to the next stage that the previous stage has finished" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="510" y="390" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-9" value="&lt;div&gt;SDRTrees task&lt;/div&gt;&lt;div&gt;is created&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="100" y="520" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-10" value="The GPU node sees that there is a sector entry in the pipeline table which is ready for Trees tasks to be started - this is indicated by after_sdr flag being true and after_tree_.. being false" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="100" y="640" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-11" value="&lt;div&gt;SDRTrees task&lt;/div&gt;&lt;div&gt;is claimed&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="220" y="520" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-12" value="&lt;div&gt;SDRTrees task&lt;/div&gt;&lt;div&gt;execution starts&lt;br&gt;&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="340" y="520" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-13" value="&lt;div&gt;SDRTrees task&lt;/div&gt;&lt;div&gt;execution&lt;/div&gt;&lt;div&gt;finishes&lt;br&gt;&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=9;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="460" y="520" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Fwejmh2N7mDQbzCkq5GE-14" value="SDRTrees task is executed by the GPU node. Execution steps are almost identical to the SDR (or any other) task" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="250" y="640" width="350" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
